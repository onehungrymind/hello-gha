name: Say Hello
run-name: ${{ github.actor }} is saying hello ðŸ‘‹
on: [push]

# jobs:
#   job_1:
#     name: Add 3 and 7
#     runs-on: ubuntu-latest
#     steps:
#       - shell: bash
#         run: |
#           expr 3 + 7 > math-homework.txt
#       - name: Upload math result for job 1
#         uses: actions/upload-artifact@v4
#         with:
#           name: homework_pre
#           path: math-homework.txt

#   job_2:
#     name: Multiply by 9
#     needs: job_1
#     runs-on: windows-latest
#     steps:
#       - name: Download math result for job 1
#         uses: actions/download-artifact@v4
#         with:
#           name: homework_pre
#       - shell: bash
#         run: |
#           value=`cat math-homework.txt`
#           expr $value \* 9 > math-homework.txt
#       - name: Upload math result for job 2
#         uses: actions/upload-artifact@v4
#         with:
#           name: homework_final
#           path: math-homework.txt

#   job_3:
#     name: Display results
#     needs: job_2
#     runs-on: macOS-latest
#     steps:
#       - name: Download math result for job 2
#         uses: actions/download-artifact@v4
#         with:
#           name: homework_final
#       - name: Print the final result
#         shell: bash
#         run: |
#           value=`cat math-homework.txt`
#           echo The result is $value

jobs:
  fetch-character:
    name: Fetch Character
    runs-on: ubuntu-latest
    outputs:
      character: ${{ steps.fetch-action.outputs.character }}

    steps:
      - name: Checkout
        id: checkout
        uses: actions/checkout@v4

      - name: Fetch
        id: fetch-action
        uses: ./.github/actions/fetch

      - name: Print Output
        id: output
        run: echo "${{ steps.fetch-action.outputs.character }}"

  greet-person:
    name: Greet Person
    runs-on: ubuntu-latest
    needs: fetch-character

    steps:
      - name: Checkout
        id: checkout
        uses: actions/checkout@v4

      - name: Greet
        id: greet-action
        uses: ./.github/actions/greeting
        with:
          person: ${{ needs.fetch-character.outputs.character }}

      - name: Print Output
        id: output
        run: echo "${{ steps.greet-action.outputs.greeting }}"
